/*! project-name v0.0.1 | (c) 2022 YOUR NAME | MIT License | http://link-to-your-git-repo.com */
const start25=5,start50=10,start75=15,start100=20,getTransition=()=>d3.transition().duration(200),illustrations=["community","school","distance","waterMCL","solution","coloring"],triggerAnimations=(t,e)=>{const o=illustrationsInfo.find(e=>e.community===t),a=(t,e)=>{gsap.to(`.village-${t} .section-${e} .coloring`,{opacity:1,duration:2,ease:"sine.out"})},i=(t,e,o)=>{const a="left"===o?"-":"+";gsap.timeline().to(t,{morphSVG:e,x:`${a}=10`,y:y="-=15",duration:.4,ease:"none"},0).to(t,{morphSVG:t,x:`${a}=10`,y:y="-=15",duration:.4,ease:"none"},">").to(t,{morphSVG:e,x:`${a}=10`,y:y="-=15",duration:.4,ease:"none"},">").to(t,{morphSVG:t,x:`${a}=10`,y:y="-=15",duration:.4,ease:"none"},">").to(t,{morphSVG:e,x:`${a}=10`,y:y="-=15",duration:.4,ease:"none"},">").to(t,{morphSVG:t,x:`${a}=10`,y:y="-=15",duration:.4,ease:"none"},">").to(t,{morphSVG:e,x:`${a}=10`,y:y="-=15",duration:.4,ease:"none"},">").to(t,{morphSVG:t,x:`${a}=10`,y:y="-=15",duration:.4,ease:"none"},">")},l=(e,a,l)=>{const n=o[e],r=o[l],s=gsap.timeline();switch(n){case 2:s.call(i,[`#${t}-${a}-bird1-state1`,`#${t}-${a}-bird1-state2`,r]).call(i,[`#${t}-${a}-bird2-state1`,`#${t}-${a}-bird2-state2`,r],">+0.4");break;case 3:s.call(i,[`#${t}-${a}-bird1-state1`,`#${t}-${a}-bird1-state2`,r]).call(i,[`#${t}-${a}-bird2-state1`,`#${t}-${a}-bird2-state2`,r],">+0.4").call(i,[`#${t}-${a}-bird3-state1`,`#${t}-${a}-bird3-state2`,r],">+0.2");break;case 4:s.call(i,[`#${t}-${a}-bird1-state1`,`#${t}-${a}-bird1-state2`,r]).call(i,[`#${t}-${a}-bird2-state1`,`#${t}-${a}-bird2-state2`,r],">+0.4").call(i,[`#${t}-${a}-bird3-state1`,`#${t}-${a}-bird3-state2`,r],">+0.2").call(i,[`#${t}-${a}-bird4-state1`,`#${t}-${a}-bird4-state2`,r],">+0.1")}},n=(e,o,a,i,l)=>{let n,r;gsap.set(`#${t}-${e}-wheel-back, #${t}-${e}-wheel-front`,{transformOrigin:"50% 50%"},0),"community"===e&&"las-mercedes"===t||"solution"===e?(n="back.in(1.05)",r="back.out(1.05)"):(n="back.in(1.7)",r="back.out(1.4)");const s="+"===a?"-":"+",c="las-mercedes"===t?3:2,d="las-mercedes"===t?2:1;gsap.timeline().to(`#${t}-${e}-wheel-back`,{rotation:`${a}=${i}`,duration:c,ease:n},0).to(`#${t}-${e}-wheel-front`,{rotation:`${a}=${l}`,duration:c,ease:n},0).to(`#${t}-${e}-tractor`,{x:`${a}${o}`,duration:c,ease:n},0).to(`#${t}-${e}-wheel-back`,{rotation:`${s}=${i}`,duration:d,ease:r},c+1.5).to(`#${t}-${e}-wheel-front`,{rotation:`${s}=${l}`,duration:d,ease:r},c+1.5).to(`#${t}-${e}-tractor`,{x:0,duration:d,ease:r},c+1.5)},r=(e,o)=>{const a="canal"===o?"20":"23",i=gsap.timeline();i.to(`#${t}-${e}-river-tides`,{x:`+=${a}`,opacity:1,duration:4,ease:"none"}).to(`#${t}-${e}-river-tides`,{x:`+=${a}`,opacity:0,duration:4,ease:"none"}),i.repeat(-1).repeatDelay(2)},s=t=>{t.forEach(t=>{gsap.to(t.selector,{drawSVG:"100%",duration:2})})},c=e=>{const o=document.querySelectorAll(`#${t}-${e}-raindrops line`);gsap.set(o,{drawSVG:"0% 100%",y:0});const a=gsap.timeline();a.from(o,{drawSVG:0,duration:.01,opacity:0,ease:"none"},0).to(o,{y:45,drawSVG:"100% 100%",duration:.5,opacity:1,stagger:{each:.008,from:"random"},ease:"power1.in"}),a.repeat(-1)},d={trigger:`.village-${t} .plane-top`,start:"top center"},m={trigger:`.village-${t} .plane-bottom`,start:"top center"},u=window.innerWidth-90<1310?(window.innerWidth-90)/2:655,g=window.innerWidth>576?184:-200;if(gsap.timeline({scrollTrigger:d}).from(`.village-${t} .plane-top`,{left:-u+g,duration:window.innerWidth/100,ease:"sine.out"}),gsap.timeline({scrollTrigger:m}).from(`.village-${t} .plane-bottom`,{right:-u+g,duration:window.innerWidth/100,ease:"sine.out"}),e>=25){const l={trigger:`.village-${t} .section-community svg`,start:"top center",end:"bottom 0",onEnterBack:()=>r.restart(),onLeave:()=>r.pause()},r=gsap.timeline({scrollTrigger:l});e>=75&&o.animalsCommunity.forEach(e=>{e.selector=document.querySelectorAll(`#${t}-community-${e.id} path, #${t}-community-${e.id} line, #${t}-community-${e.id} polyline`),gsap.set(e.selector,{drawSVG:0})});const c=`${o.cloudsCommunity.direction}=${o.cloudsCommunity.distance}`;"totoral-bajo"===t?gsap.set(`#${t}-community-clouds-back-outline`,{x:c,opacity:0}):"las-mercedes"===t?gsap.set(`#${t}-community-clouds-front-outline, #${t}-community-clouds-back-outline`,{x:c,opacity:0}):"carrizalillo"===t?gsap.set(`#${t}-community-clouds-outline`,{x:c,opacity:0}):"la-merced"!==t&&"totoral-alto"!==t||gsap.set(`#${t}-community-sun`,{opacity:0,y:20}),"la-merced"!==t&&"las-mercedes"!==t&&"totoral-alto"!==t&&"carrizalillo"!==t&&(gsap.set(`#${t}-community-clouds-front`,{opacity:0}),gsap.set(`#${t}-community-clouds-front`,{x:c}));const d=()=>{const e=gsap.timeline();"totoral-bajo"===t?e.to(`#${t}-community-clouds-front`,{opacity:1,duration:3,ease:"sine.out"},0).to(`#${t}-community-clouds-front`,{x:-1*c,duration:20,ease:"sine.out"},"<-1").to(`#${t}-community-clouds-back-outline`,{opacity:1,duration:3,ease:"sine.out"},0).to(`#${t}-community-clouds-back-outline`,{x:-1*c,duration:20,ease:"sine.out"},"<-1"):"las-mercedes"===t?e.to(`#${t}-community-clouds-front, #${t}-community-clouds-front-outline`,{opacity:1,duration:3,ease:"sine.out"},0).to(`#${t}-community-clouds-front, #${t}-community-clouds-front-outline`,{x:-1*c,duration:20,ease:"sine.out"},"<-1").to(`#${t}-community-clouds-back-outline`,{opacity:1,duration:3,ease:"sine.out"},0).to(`#${t}-community-clouds-back-outline`,{x:-1*c,duration:20,ease:"sine.out"},"<-1"):"carrizalillo"===t?e.to(`#${t}-community-clouds-outline`,{opacity:1,duration:3,ease:"sine.out"},0).to(`#${t}-community-clouds-outline`,{x:-1*c,duration:20,ease:"sine.out"},"<-1"):"la-merced"===t||"totoral-alto"===t?e.to(`#${t}-community-sun`,{opacity:1,duration:1,ease:"sine.out"},0).to(`#${t}-community-sun`,{y:0,duration:8,ease:"sine.out"},"<-1"):e.to(`#${t}-community-clouds-front`,{opacity:1,duration:3,ease:"sine.out"},0).to(`#${t}-community-clouds-front`,{x:-1*c,duration:20,ease:"sine.out"},"<-1")},m=()=>{gsap.timeline().call(n,["community",o.vehicleCommunity.distance,o.vehicleCommunity.direction,o.vehicleCommunity.rotationWheelBack,o.vehicleCommunity.rotationWheelFront])},u=()=>{gsap.timeline().call(s,[o.animalsCommunity])},g=()=>{const e=gsap.timeline();"totoral-alto"===t?e.call(i,[`#${t}-community-bird1-state1`,`#${t}-community-bird1-state2`,"right"]).call(i,[`#${t}-community-bird3-state1`,`#${t}-community-bird3-state2`,"left"],">+0.5").call(i,[`#${t}-community-bird2-state1`,`#${t}-community-bird2-state2`,"left"],">+0.5"):"totoral-bajo"==t?e.call(i,[`#${t}-community-bird1-state1`,`#${t}-community-bird1-state2`,"left"]).call(i,[`#${t}-community-bird3-state1`,`#${t}-community-bird3-state2`,"left"],">+0.5").call(i,[`#${t}-community-bird2-state1`,`#${t}-community-bird2-state2`,"left"],">+0.5"):e.call(i,[`#${t}-community-bird2-state1`,`#${t}-community-bird2-state2`,"left"]).call(i,[`#${t}-community-bird1-state1`,`#${t}-community-bird1-state2`,"left"],.5)};let $=[{level:25,timing:2},{level:50,timing:4},{level:75,timing:4},{level:100,timing:4}].find(t=>t.level===e).timing;"las-mercedes"===t&&e>=50&&($=5),r.call(d,null,0).call(a,[t,"community"],$),e>=50&&r.add(m,0),e>=75&&r.add(u,3),100===e&&r.add(g,4)}const $={trigger:`.village-${t} .section-school svg`,start:"top center",end:"bottom 0",onEnterBack:()=>p.restart(),onLeave:()=>p.pause()},p=gsap.timeline({scrollTrigger:$}),h=o.missedSchoolHours.max/3;gsap.set(`#${t}-school-clock-small-hand`,{transformOrigin:"bottom center"},0),gsap.set(`#${t}-school-clock-big-hand`,{transformOrigin:"bottom center"},0),gsap.set(`#${t}-school-clock-mouth`,{opacity:0}),e<25&&(gsap.set(`#${t}-school-clock-small-hand`,{rotation:210}),gsap.set(`#${t}-school-clock-big-hand`,{rotation:135}));let w=document.querySelectorAll(`#${t}-school-kids polygon, #${t}-school-kids polyline, #${t}-school-kids path, #${t}-school-kids ellipse`),b=document.querySelectorAll(`#${t}-school-kid1-mouth, #${t}-school-kid2-mouth`);gsap.set(b,{opacity:0}),100===e&&gsap.set(w,{drawSVG:0});const f=document.querySelector(`#${t}-school-clock-tear-left`),S=document.querySelector(`#${t}-school-clock-tear-right`);gsap.set(f,{drawSVG:"0% 100%",y:0}),gsap.set(S,{drawSVG:"0% 100%",y:0});const v=()=>{schoolTearsTl=gsap.timeline(),schoolTearsTl.from(f,{drawSVG:0,duration:.7,ease:"none"},0).to(f,{y:25,duration:1,ease:"power2.in"}).to(f,{drawSVG:"100% 100%",opacity:0,duration:.1}).from(S,{drawSVG:0,duration:.7,ease:"none"},3.2).to(S,{y:25,duration:1,ease:"power2.in"}).to(S,{drawSVG:"100% 100%",opacity:0,duration:.1});const t=e<100?-1:Math.floor(9/4.2)-1;schoolTearsTl.repeat(t)},k=()=>{schoolFlagsTl=gsap.timeline(),o.hasTwoSchools?schoolFlagsTl.to(`#${t}-school-flag-top-state1`,{morphSVG:`#${t}-school-flag-top-state2`,duration:.8,ease:"none"}).to(`#${t}-school-flag-top-state1`,{morphSVG:`#${t}-school-flag-top-state3`,duration:.8,ease:"none"},">").to(`#${t}-school-flag-top-state1`,{morphSVG:`#${t}-school-flag-top-state1`,duration:.8,ease:"none"},">").to(`#${t}-school-flag-bottom-state1`,{morphSVG:`#${t}-school-flag-bottom-state2`,duration:.8,ease:"none"},.2).to(`#${t}-school-flag-bottom-state1`,{morphSVG:`#${t}-school-flag-bottom-state3`,duration:.8,ease:"none"},">").to(`#${t}-school-flag-bottom-state1`,{morphSVG:`#${t}-school-flag-bottom-state1`,duration:.8,ease:"none"},">"):schoolFlagsTl.to(`#${t}-school-flag-state1`,{morphSVG:`#${t}-school-flag-state2`,duration:.8,ease:"none"}).to(`#${t}-school-flag-state1`,{morphSVG:`#${t}-school-flag-state3`,duration:.8,ease:"none"},">").to(`#${t}-school-flag-state1`,{morphSVG:`#${t}-school-flag-state1`,duration:.8,ease:"none"},">"),schoolFlagsTl.repeat(-1)},G=()=>{gsap.timeline().to(`#${t}-school-clock-small-hand`,{rotation:360*o.missedSchoolHours.max/12,duration:h,ease:"none"},0).to(`#${t}-school-clock-big-hand`,{rotation:360*o.missedSchoolHours.max,duration:h,ease:"none"},0).call(v,null,0)};gsap.set(`#${t}-school-door-left`,{x:0}),gsap.set(`#${t}-school-door-right`,{x:0});const V=()=>{gsap.timeline().to(`#${t}-school-door-left`,{x:"-95%",duration:2,ease:"power2.in"},0).to(`#${t}-school-door-right`,{x:"95%",duration:2,ease:"power2.in"},0)},x=()=>{gsap.timeline().to(w,{drawSVG:"100%",duration:2}).fromTo(`#${t}-school-clock-mouth`,{drawSVG:"50% 50%"},{drawSVG:"0 100%",opacity:1,duration:1,ease:"sine.in"},">-0.8").fromTo(b,{drawSVG:"50% 50%"},{drawSVG:"0 100%",opacity:1,duration:1,ease:"sine.in"},">-0.8")},q=[{level:25,timing:1},{level:50,timing:1},{level:75,timing:2},{level:100,timing:3}];if(e>=25&&p.call(a,[t,"school"],q.find(t=>t.level===e).timing).add(G,.5),e>=50&&p.add(k,0),e>=75&&p.add(V,3),100===e&&p.add(x,3),gsap.set(`#${t}-distance-walk`,{opacity:0}),e>=25){const i={trigger:`.village-${t} .section-distance svg`,start:"top center",end:"bottom 0",onEnterBack:()=>n.restart(),onLeave:()=>n.pause()},n=gsap.timeline({scrollTrigger:i});let d;gsap.set(`#${t}-distance-walk`,{drawSVG:"0% 100%",opacity:1}),gsap.set(`#${t}-distance-arrowhead`,{drawSVG:"50% 50%",opacity:0}),e>=50&&"carrizalillo"!==t&&(gsap.set(`#${t}-distance-river-tides`,{opacity:0}),gsap.set(`#${t}-distance-river-tides`,{x:"-=20"})),100===e&&o.animalsDistance.forEach(e=>{e.selector=document.querySelectorAll(`#${t}-distance-${e.id} path, #${t}-distance-${e.id} line, #${t}-distance-${e.id} polyline`),gsap.set(e.selector,{drawSVG:0})}),"carrizalillo"===t&&e>=50&&(d=document.querySelectorAll("#carrizalillo-distance-well polygon, #carrizalillo-distance-well line, #carrizalillo-distance-well rect, #carrizalillo-distance-well polyline"),gsap.set(d,{drawSVG:0}));const m=()=>{const e=gsap.timeline();"carrizalillo"===t?e.to(d,{drawSVG:"100%",duration:2},2):e.call(r,["distance",o.sourceTypeDistance])},u=()=>{gsap.timeline().call(l,["numberOfBirdsDistance","distance","directionBirdsDistance"])},g=()=>{gsap.timeline().call(s,[o.animalsDistance])},$=[{level:25,timing:2},{level:50,timing:2},{level:75,timing:3},{level:100,timing:4}];n.to(`#${t}-distance-walk`,{drawSVG:"100% 100%",duration:3,ease:"none"},2).to(`#${t}-distance-arrowhead`,{drawSVG:"0 100%",opacity:1,duration:.5,ease:"power1.in"}).call(a,[t,"distance"],$.find(t=>t.level===e).timing),"totoral-alto"===t&&n.call(c,["distance"],0),e>=50&&n.add(m,0),e>=75&&n.add(u,3),100===e&&n.add(g,4)}if(document.querySelectorAll(`#${t}-water-contaminants-biological path`).forEach(t=>{const e=t.getAttribute("id");switch(!0){case e.includes("leg-0"):t.classList.add("leg-0");break;case e.includes("leg-3"):t.classList.add("leg-3");break;case e.includes("leg-6"):t.classList.add("leg-6");break;case e.includes("leg-9"):t.classList.add("leg-9")}}),gsap.set(".leg-3, .leg-6, .leg-9",{opacity:0}),e>=25){const i={trigger:`.village-${t} .section-waterMCL svg`,start:"top center",end:"bottom 0",onEnterBack:()=>l.restart(),onLeave:()=>l.pause()},l=gsap.timeline({scrollTrigger:i});for(let e=1;e<=o.waterContaminants.biological;e++)document.querySelector(`#${t}-water-contaminant-biological-${e}`).classList.add(`${t}-water-contaminant-biological`);const n=document.querySelectorAll(`.${t}-water-contaminant-biological circle`),r=document.querySelectorAll(`.${t}-water-contaminant-biological .leg-0`);gsap.set(n,{opacity:0,transformOrigin:"50% 50%"}),gsap.set(r,{drawSVG:"100% 100%",opacity:0});const s=document.querySelectorAll(`#${t}-water-contaminants-inorganic rect, #${t}-water-contaminants-inorganic path`);gsap.set(s,{opacity:0,scale:0,transformOrigin:"50% 50%"});let c,d,m,u="",g="",$="";if(e>=50){for(let e=1;e<=o.waterContaminants.biological;e++)switch(!0){case e%3==0:$+=`#${t}-water-contaminant-biological-${e}, `;break;case e%2==0:g+=`#${t}-water-contaminant-biological-${e}, `;break;default:u+=`#${t}-water-contaminant-biological-${e}, `}c=document.querySelectorAll(u.slice(0,-2)),d=document.querySelectorAll(g.slice(0,-2)),m=document.querySelectorAll($.slice(0,-2))}let p,y,h,w="",b="",f="";if(e>=25){for(let e=1;e<=o.waterContaminants.inorganic;e++)switch(!0){case e%3==0:f+=`#${t}-water-contaminant-inorganic-${e}, `;break;case e%2==0:b+=`#${t}-water-contaminant-inorganic-${e}, `;break;default:w+=`#${t}-water-contaminant-inorganic-${e}, `}p=document.querySelectorAll(w.slice(0,-2)),y=document.querySelectorAll(b.slice(0,-2)),o.waterContaminants.inorganic>2&&(h=document.querySelectorAll(f.slice(0,-2)))}const S=gsap.timeline(),v=()=>{[p,y,h].forEach((t,e)=>{S.to(t,{x:"-=0.5",y:"+=1",duration:.7,ease:ease="linear"},.25*e).to(t,{x:"-=0.5",y:"-=1",duration:.7,ease:ease="linear"},">").to(t,{x:"+=1",y:"+=1",duration:.7,ease:ease="linear"},">").to(t,{x:"+=1",y:"-=1",duration:.7,ease:ease="linear"},">"),S.repeat(-1).yoyo(!0)})},k=gsap.timeline(),G=()=>{[c,d,m].forEach((t,e)=>{k.to(t,{x:"-=0.7",y:"+=1.3",duration:.8,ease:ease="linear"},.25*e).to(t,{x:"-=0.7",y:"-=1.3",duration:.8,ease:ease="linear"},">").to(t,{x:"+=1.4",y:"+=1.3",duration:.8,ease:ease="linear"},">").to(t,{x:"+=1.4",y:"-=1.3",duration:.8,ease:ease="linear"},">"),k.repeat(-1).yoyo(!0)})},V=gsap.timeline(),x=()=>{const e=[1,2,3,4,5,6,7,8];for(let a=1;a<=o.waterContaminants.biological;a++)e.forEach(e=>{V.to(`#${t}-water-contaminant-biological-${a} #leg-group-${a}-${e} .leg-0`,{morphSVG:`#${t}-water-contaminant-biological-${a} #leg-group-${a}-${e} .leg-3`,duration:.5,ease:"none"},0).to(`#${t}-water-contaminant-biological-${a} #leg-group-${a}-${e} .leg-0`,{morphSVG:`#${t}-water-contaminant-biological-${a} #leg-group-${a}-${e} .leg-6`,duration:.5,ease:"none"},">").to(`#${t}-water-contaminant-biological-${a} #leg-group-${a}-${e} .leg-0`,{morphSVG:`#${t}-water-contaminant-biological-${a} #leg-group-${a}-${e} .leg-9`,duration:.5,ease:"none"},">").to(`#${t}-water-contaminant-biological-${a} #leg-group-${a}-${e} .leg-0`,{morphSVG:`#${t}-water-contaminant-biological-${a} #leg-group-${a}-${e} .leg-3`,duration:.5,ease:"none"},">"),V.repeat(-1).yoyo(!0)})},q=document.querySelector(`#${t}-water-drop-small-1`),T=document.querySelector(`#${t}-water-drop-small-2`),A=document.querySelector(`#${t}-water-drop-small-3`),C=()=>{[q,T,A].forEach((t,e)=>{const o=gsap.timeline();o.to(t,{x:"-=0.5",y:"+=1",duration:.7,ease:ease="linear"},.25*e).to(t,{x:"-=0.5",y:"-=1",duration:.7,ease:ease="linear"},">").to(t,{x:"+=1",y:"+=1",duration:.7,ease:ease="linear"},">").to(t,{x:"+=1",y:"-=1",duration:.7,ease:ease="linear"},">"),o.repeat(-1).yoyo(!0)})},E=()=>{gsap.timeline().call(x,null,0).call(G,null,0)},z=[{level:50,timing:2},{level:75,timing:2},{level:100,timing:2}];l.to(s,{opacity:1,scale:1,duration:.2,ease:"back.out(1.7)",stagger:{each:.1,from:"random"}},1).fromTo(n,{scale:0},{scale:1,opacity:1,stagger:{each:.05,from:"random"},duration:.2,ease:"back.out(1.4)"},2).set(r,{opacity:1}).to(r,{drawSVG:"0 100%",stagger:{each:.03,from:"random"},duration:.5,ease:"sine.in"}),e>=50&&l.add(v,5).call(a,[t,"waterMCL"],z.find(t=>t.level===e).timing),e>=75&&l.add(E,5),100===e&&l.add(C,5)}const T=document.querySelectorAll(`#${t}-solution-water-treatment path, #${t}-solution-water-treatment line, #${t}-solution-water-treatment polyline, #${t}-solution-water-treatment circle, #${t}-solution-water-treatment rect`);if(gsap.set(T,{drawSVG:0}),gsap.set(`#${t}-solution-water-treatment-faded`,{opacity:.3}),e>=25){const i={trigger:`.village-${t} .section-solution svg`,start:"top center",end:"bottom 0",onEnterBack:()=>d.restart(),onLeave:()=>d.pause()},d=gsap.timeline({scrollTrigger:i});"carrizalillo"!==t&&(gsap.set(`#${t}-solution-river-tides`,{opacity:0}),gsap.set(`#${t}-solution-river-tides`,{x:"-=20"})),o.animalsSolution.forEach(e=>{e.selector=document.querySelectorAll(`#${t}-solution-${e.id} path, #${t}-solution-${e.id} line, #${t}-solution-${e.id} polyline`),gsap.set(e.selector,{drawSVG:0})});const m=()=>{gsap.timeline().call(l,["numberOfBirdsSolution","solution","directionBirdsSolution"])},u=()=>{gsap.timeline().call(s,[o.animalsSolution])},g=()=>{gsap.timeline().to(T,{drawSVG:"100%",duration:2}).to(`#${t}-solution-water-treatment-faded`,{opacity:0,duration:.2})};let $=[{level:25,timing:1},{level:50,timing:3},{level:75,timing:3},{level:100,timing:3}].find(t=>t.level===e).timing;("la-merced"===t||"totoral-bajo"===t||"carrizalillo"===t)&&e>=75&&($=5),d.call(a,[t,"solution"],$),"carrizalillo"===t?d.call(c,["solution"],.1):"totoral-bajo"===t?d.call(c,["solution"],.1).call(r,["solution",o.sourceTypeDistance],.1):d.call(r,["solution",o.sourceTypeDistance],.1),e>=50&&d.add(u,2),e>=75&&("la-merced"===t||"totoral-bajo"===t||"carrizalillo"===t?d.call(n,["solution",o.vehicleSolution.distance,o.vehicleSolution.direction,o.vehicleSolution.rotationWheelBack,o.vehicleSolution.rotationWheelFront],1):o.numberOfBirdsSolution>0&&d.add(m,3)),100===e&&d.add(g,3)}if(e>=25){const o={trigger:`.village-${t} .section-coloring svg`,start:"top center",end:"bottom 0",onEnterBack:()=>i.restart(),onLeave:()=>i.pause()},i=gsap.timeline({scrollTrigger:o}),l=document.querySelectorAll(`#${t}-coloring-kids path, #${t}-coloring-kids ellipse, #${t}-coloring-kids line, #${t}-coloring-kids circle`),n=document.querySelectorAll(`#${t}-coloring-smile-1, #${t}-coloring-smile-2, #${t}-coloring-smile-3`),r=document.querySelectorAll(`#${t}-coloring-erlenmeyers path, #${t}-coloring-erlenmeyers line`),s=document.querySelectorAll(`#${t}-coloring-drops path`),c=document.querySelectorAll(`#${t}-coloring-pencil-1, #${t}-coloring-pencil-2, #${t}-coloring-pencil-3, #${t}-coloring-pencil-4, #${t}-coloring-pencil-5`);gsap.set(s,{opacity:0,transformOrigin:"50% 50%"}),e>=50&&gsap.set(c,{x:"-=10",y:"+=10",opacity:0}),e>=75&&gsap.set(`#${t}-coloring-windwheel`,{transformOrigin:"50% 50%"}),100===e&&(gsap.set(l,{drawSVG:0}),gsap.set(n,{opacity:0}));const d=()=>{const e=gsap.timeline();e.to(`#${t}-coloring-windwheel`,{rotation:360,duration:1.5,ease:"none"}),e.repeat(-1)},m=()=>{gsap.timeline().to(c,{x:"+=10",y:"-=10",opacity:1,stagger:{each:.2,from:"end"},duration:.3,ease:"back.out(1.4)"})},u=()=>{gsap.timeline().to(l,{drawSVG:"100%",duration:3}).fromTo(n,{drawSVG:"50% 50%"},{drawSVG:"0 100%",opacity:1,duration:1,ease:"sine.in"},">-0.8")},g=[{level:25,timing:2},{level:50,timing:3},{level:75,timing:3},{level:100,timing:3}];i.from(r,{drawSVG:0,opacity:0,duration:2},1).fromTo(s,{scale:0},{scale:1,opacity:1,stagger:{each:.15,from:"random"},duration:.3,ease:"back.out(1.4)"},"<+=1.8").call(a,[t,"coloring"],g.find(t=>t.level===e).timing),e>=50&&i.add(m,2),e>=75&&i.add(d,2.5),e>=100&&i.add(u,3)}};